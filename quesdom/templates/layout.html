<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Quisdom - {{title}}</title>
    <!--To add Inter font from google fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;400&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="./static/styles.css"/>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
  </head>
  <body style="font-family: Inter;" onload="adjustLoginBtn()">
    <nav class="mt-3 mx-2 navbar navbar-expand-lg">
      <div class="container-fluid">
        <a class="navbar-brand fw-bolder" href="{{url_for('home')}}"><span class="brand-text">Quesdom</span></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-center " id="navbarSupportedContent">
          <ul class="navbar-nav mb-2 mb-lg-0">
            <li class="nav-item ">
              <a class="nav-link active text-center" aria-current="page" href="{{url_for('home')}}">Home</a>
            </li>
            <li class="nav-item dropdown py-4 py-sm-0 px-4">
                <a class="text-center nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Quizzes
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                      <li><a class="dropdown-item p-3 p-sm-2" href="#">Action</a></li>
                      <li><a class="dropdown-item p-3 p-sm-2" href="#">Another action</a></li>
                      <li><hr class="dropdown-divider"></li>
                      <li><a class="dropdown-item p-3 p-sm-2" href="#">Something else here</a></li>
                  </ul>
              </li>
              <li class="nav-item">
                <a class="nav-link text-center" href="{{url_for('about')}}">About</a>
              </li>
              <!--The default button was right here, but Because I wanted it to be seperated from the menu links, so that the menu
              links can be placed in the middle. But once placed outside, the button won't collapse because only the content inside
              this div collapses when screen size is reduced. So I cretaed two login buttons, one inside and one outside. The outer
              button's display is set to none on smaller screens and simultaneously the inner button's display is shifted from none to 
              normal.
              -->
              <a style=" border: 1px solid lightgrey; box-shadow: 0 0 0.1rem 0rem lightgrey;" class="mt-4 fw-bold px-4 py-2 btn text-dark fs-5 rounded-1 d-lg-none mb-2" type="submit" href="{{url_for('register')}}">Sign Up</a>
              <a style=" border: 1px solid lightgrey; box-shadow: 0 0 0.1rem 0rem lightgrey;" class="mt-4 fw-bold px-4 py-2 btn text-dark fs-5 rounded-1 d-lg-none " type="submit" href="{{url_for('login')}}">Login</a>

          </ul>
        </div>
        <div class="login-btn d-none d-lg-flex justify-content-end">
          <a id="login-btn-inner" style="border: 1px solid lightgrey;" class="fw-bold px-4 py-2 btn text-dark fs-5 rounded-1 me-2" type="submit" href="{{url_for('register')}}">Sign Up</a>
        </div>
        <div class="login-btn d-none d-lg-flex justify-content-end">
          <a id="login-btn-inner" style="border: 1px solid lightgrey; " class="fw-bold px-4 py-2 btn text-dark fs-5 rounded-1" type="submit" href="{{url_for('login')}}">Login</a>
        </div>
      </div>
    </nav>
    
    <div class="container">
        {% with messages= get_flashed_messages(with_categories=true) %}
          {%if messages%}
            {% for category,message in messages%}
              <div class="alert d-flex justify-content-between alert-{{category}}">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            {%endfor%}
          {%endif%}
        {%endwith%}
        {%block content%}{%endblock%}
    </div>
    <script>
      
      /*The login button's width was lesser than the width of brand name, due to this the menu list
      was pulled towards the right and was not properly centered. So, using javascript, I will adjust the 
      width of the login button such that it is equal to that of brandname. thus, the menu links will be aligned
      properly at the center*/
      function adjustLoginBtn(){
        var brand = document.getElementsByClassName('navbar-brand');
        var brand_width = window.getComputedStyle(brand[0]).width;
        var login = document.getElementsByClassName('login-btn');
        login[0].style.width = brand_width/2;//because there are two buttons, Login and Sign Up
        console.log("Login button adjusted");
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
  </body>
</html>
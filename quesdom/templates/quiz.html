{%extends "layout.html"%}
{%block content%}
<div class="content-section row p-2 pt-md-5 justify-content-center">

  <div class="col-10 col-sm-7 col-md-6 my-3">
          <form action="/submitquiz" method="POST" class="row">
          <input type="hidden" name="quiz_id" value="{{quiz_id}}"/>
          {%for question in questions%}  
            <div class="card p-0 my-3">
                  <div class="card-header h3">
                      {{loop.index}} - {{question.question_statement}}
                  </div>
                  <!--The below block of code is using our custom jinja filter named filter_shuffle to shuffle
                  the values of the choices which are shown on the form-->
                  {% set choice_values = [] %}
                  {% set choice_values = choice_values + [question.choices.correct_choice] %}
                  {% set choice_values = choice_values + [question.choices.incorrect_choice_1] %}
                  {% set choice_values = choice_values + [question.choices.incorrect_choice_2] %}
                  {% set choice_values = choice_values + [question.choices.incorrect_choice_3] %}
                  {%set choice_values = choice_values|filter_shuffle %}
                  <div class="card-body">
                          <div class="form-check col-6 p-3">
                              <input class="form-check-input" type="radio" value="{{choice_values[0]}}" name="{{question.id}}" id="flexRadioDefault_{{loop.index}}_1">
                              <label class="form-check-label" for="flexRadioDefault_{{loop.index}}_1">
                                {{choice_values[0]}}
                              </label>
                            </div>
                          <div class="form-check col-6  p-3">
                              <input class="form-check-input" type="radio" value="{{choice_values[1]}}" name="{{question.id}}" id="flexRadioDefault_{{loop.index}}_2">
                              <label class="form-check-label" for="flexRadioDefault_{{loop.index}}_2">
                                {{choice_values[1]}}
                              </label>
                            </div>
                          <div class="form-check  col-6 p-3">
                              <input class="form-check-input" type="radio" value="{{choice_values[2]}}" name="{{question.id}}" id="flexRadioDefault_{{loop.index}}_3">
                              <label class="form-check-label" for="flexRadioDefault_{{loop.index}}_3">
                                {{choice_values[2]}}
                              </label>
                            </div>
                          <div class="form-check col-6  p-3">
                              <input class="form-check-input" type="radio" value="{{choice_values[3]}}" name="{{question.id}}" id="flexRadioDefault_{{loop.index}}_4">
                              <label class="form-check-label" for="flexRadioDefault_{{loop.index}}_4">
                                {{choice_values[3]}}
                              </label>
                            </div>
                          </div>
                        </div>
                        {%endfor%}  
                        <input type="submit" class="btn btn-primary" value="Submit">
                    </form>

        </div>


</div>
{%endblock%}